import React from "react";
import {useState} from "react"
import "./GetInTouch.css";
import { Row, Col } from "react-bootstrap";

function GetInTouch() {
  const [form, setForm] = useState({
    email: "",
    message: "",
  });

  let name, value;
  const Input = (e) => {
    // console.log(e);
    name = e.target.name;
    value = e.target.value;
    setForm({ ...form, [name]: value });
  };

  const SendData = async (e) => {
    e.preventDefault();
    const { email, message } = form;
    const res = await fetch(
      "https://trfbackend.herokuapp.com/contact-us",
      {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({          
          email,          
          message
        }),
      }
    );
    const data = await res.json();
    if (!data) {
      window.alert("Form submission failed");
      // console.log("Form submission failed");
    } else {
      window.alert("Form filled");
      // console.log("Form filled");
    }
  };

  return (
    <div id="ContactUs-id" className="contactUs">
      <Row className="contactUs-row">
        <Col
          className="image-col"
          xs={4}
          data-aos="fade-right"
          data-aos-once="true"
        >
          <div>
            <svg
              className="getintouch"
              viewBox="0 0 271 321"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              alignmentBaseline="middle"
            >
              <rect y="93" width="271" height="228" fill="#559083" />
              <path
                d="M50.0156 233L49.9688 224.457H38.0391V228.324H42.6445C41.6367 229.168 39.9141 229.59 37.4883 229.59C34.207 229.59 32.1797 228.746 31.418 227.047C31.1602 226.555 31.0312 225.84 31.0312 224.891C31.0312 223.941 31.1602 223.215 31.418 222.723C32.1797 221.047 34.207 220.203 37.4883 220.203C39.2461 220.203 40.5938 220.414 41.5195 220.836C42.4453 221.246 43.1016 221.844 43.4883 222.605H49.7812C49.6289 221.984 49.4414 221.434 49.1953 220.977C48.3398 219.113 46.6406 217.824 44.4844 217.18C43.4062 216.863 42.3047 216.641 41.1797 216.512C40.0664 216.383 38.8359 216.336 37.4883 216.348C36.1289 216.336 34.8867 216.383 33.7734 216.512C32.6602 216.641 31.5703 216.863 30.4805 217.18C28.3125 217.824 26.6484 219.113 25.7578 220.977C25.2305 222.031 24.9609 223.332 24.9609 224.891C24.9609 226.449 25.2305 227.75 25.7578 228.805C26.6484 230.645 28.3125 231.945 30.4805 232.59C31.5703 232.906 32.6602 233.129 33.7734 233.258C34.8867 233.387 36.1289 233.457 37.4883 233.457C40.8516 233.457 43.3125 233.07 45.2695 231.852V233H50.0156ZM72.8086 220.684V216.805H52.9336V233H72.8086V229.109H58.7695V226.836H71.6602V222.945H58.7695V220.684H72.8086ZM95.9531 216.805H74.543V220.684H82.3125V233H88.1484V220.684H95.9531V216.805ZM31.4883 262V245.805H25.6523V262H31.4883ZM52.1953 255.836L41.6367 245.805H34.8164V262H40.6523V252.766L50.4961 262H58.0547V245.805H52.1953V255.836ZM45.8672 274.805H24.457V278.684H32.2266V291H38.0625V278.684H45.8672V274.805ZM89.6602 286.875C90.1875 285.832 90.457 284.531 90.4688 282.961C90.4805 281.391 90.2109 280.066 89.6602 279C88.1133 275.719 84.2109 274.113 77.9531 274.172H59.6133C53.3906 274.125 49.5 275.73 47.9297 279C47.4023 280.055 47.1328 281.355 47.1328 282.914C47.1328 284.473 47.4023 285.773 47.9297 286.828C49.4883 290.086 53.3789 291.691 59.5898 291.645H77.9531C84.2344 291.715 88.1367 290.121 89.6602 286.875ZM84.0234 280.758C84.2812 281.273 84.4102 282.012 84.4102 282.973C84.4102 283.922 84.2812 284.648 84.0234 285.141C83.6719 285.926 83.0273 286.535 82.0781 286.957C81.1289 287.379 79.7578 287.59 77.9531 287.59H59.5898C56.3555 287.59 54.3516 286.746 53.5898 285.07C53.332 284.578 53.2031 283.863 53.2031 282.914C53.2031 281.965 53.332 281.25 53.5898 280.758C54.3516 279.07 56.3672 278.227 59.6133 278.227H77.9531C79.7578 278.227 81.1289 278.449 82.0664 278.895C83.0039 279.34 83.6602 279.961 84.0234 280.758ZM107.824 291.141C109.242 290.848 110.473 290.379 111.492 289.723C112.652 288.984 113.531 288.012 114.105 286.828C114.668 285.715 114.949 284.402 114.949 282.891V274.805H109.113V282.891C109.113 283.816 108.914 284.566 108.668 285.117C108.434 285.668 107.941 286.102 107.566 286.383C107.391 286.512 107.145 286.629 106.852 286.734C106.559 286.828 106.301 286.898 106.102 286.945C105.902 286.992 105.645 287.027 105.316 287.051L104.578 287.098C104.426 287.109 104.191 287.109 103.898 287.109C103.605 287.109 103.371 287.109 103.195 287.098L102.457 287.051C102.129 287.027 101.859 286.992 101.66 286.945C101.461 286.898 101.215 286.828 100.91 286.734C100.301 286.535 99.9844 286.277 99.5508 285.855C98.9648 285.223 98.6484 284.297 98.6016 282.891V274.805H92.7773V282.891C92.7656 284.402 93.0469 285.715 93.6094 286.852C94.207 288.012 95.0977 288.973 96.2812 289.723C98.1211 290.895 100.652 291.48 103.887 291.48C105.363 291.48 106.676 291.363 107.824 291.141ZM135.949 284.836L135.832 285.117C135.48 285.902 134.836 286.512 133.887 286.945C132.938 287.379 131.566 287.59 129.762 287.59C126.48 287.59 124.453 286.746 123.691 285.047C123.434 284.555 123.305 283.84 123.305 282.891C123.305 281.941 123.434 281.215 123.691 280.723C124.453 279.047 126.48 278.203 129.762 278.203C131.566 278.203 132.938 278.426 133.875 278.871C134.812 279.305 135.469 279.926 135.832 280.723L135.926 280.945H142.102C141.973 280.195 141.762 279.539 141.469 278.977C140.613 277.113 138.914 275.824 136.758 275.18C135.68 274.863 134.578 274.641 133.453 274.512C132.34 274.383 131.109 274.336 129.762 274.348C128.402 274.336 127.16 274.383 126.047 274.512C124.934 274.641 123.844 274.863 122.754 275.18C120.586 275.824 118.922 277.113 118.031 278.977C117.504 280.031 117.234 281.332 117.234 282.891C117.234 284.449 117.504 285.75 118.031 286.805C118.922 288.645 120.586 289.945 122.754 290.602C124.922 291.258 127.078 291.457 129.762 291.457C131.121 291.457 132.352 291.398 133.465 291.281C134.578 291.176 135.68 290.953 136.77 290.637C138.938 289.992 140.613 288.738 141.469 286.875C141.762 286.301 141.984 285.621 142.125 284.836H135.949ZM161.309 274.805V280.945H150.504V274.805H144.668V291H150.504V284.836H161.309V291H167.156V274.805H161.309Z"
                fill="white"
              />
              <path
                d="M218.293 127.977C217.438 126.113 215.738 124.824 213.57 124.18C212.492 123.863 211.391 123.641 210.277 123.512C209.164 123.383 207.934 123.336 206.586 123.348C205.227 123.336 203.984 123.383 202.871 123.512C201.758 123.641 200.656 123.863 199.566 124.18C197.398 124.824 195.734 126.113 194.844 127.977C194.316 129.031 194.059 130.332 194.047 131.891C194.047 133.449 194.316 134.75 194.844 135.805C195.734 137.645 197.398 138.945 199.566 139.602C200.656 139.93 201.77 140.152 202.883 140.281C204.008 140.41 205.238 140.469 206.586 140.457C207.945 140.469 209.176 140.422 210.289 140.293C211.402 140.176 212.492 139.965 213.582 139.648C215.773 139.027 217.438 137.738 218.293 135.875C218.82 134.82 219.09 133.508 219.102 131.938C219.113 130.367 218.844 129.043 218.293 127.977ZM200.504 129.723C201.266 128.047 203.293 127.203 206.586 127.203C208.707 127.203 210.289 127.531 211.309 128.188L200.152 132.629C200.023 131.375 200.141 130.414 200.504 129.723ZM212.656 134.117C212.305 134.902 211.66 135.512 210.711 135.945C209.762 136.379 208.391 136.59 206.586 136.59C204.547 136.59 202.988 136.262 201.922 135.605L213.008 131.188C213.125 132.465 213.008 133.449 212.656 134.117ZM245.902 127.977C245.047 126.113 243.348 124.824 241.18 124.18C240.102 123.863 239 123.641 237.887 123.512C236.773 123.383 235.543 123.336 234.195 123.348C232.836 123.336 231.594 123.383 230.48 123.512C229.367 123.641 228.266 123.863 227.176 124.18C225.008 124.824 223.344 126.113 222.453 127.977C221.926 129.031 221.668 130.332 221.656 131.891C221.656 133.449 221.926 134.75 222.453 135.805C223.344 137.645 225.008 138.945 227.176 139.602C228.266 139.93 229.379 140.152 230.492 140.281C231.617 140.41 232.848 140.469 234.195 140.457C235.555 140.469 236.785 140.422 237.898 140.293C239.012 140.176 240.102 139.965 241.191 139.648C243.383 139.027 245.047 137.738 245.902 135.875C246.43 134.82 246.699 133.508 246.711 131.938C246.723 130.367 246.453 129.043 245.902 127.977ZM228.113 129.723C228.875 128.047 230.902 127.203 234.195 127.203C236.316 127.203 237.898 127.531 238.918 128.188L227.762 132.629C227.633 131.375 227.75 130.414 228.113 129.723ZM240.266 134.117C239.914 134.902 239.27 135.512 238.32 135.945C237.371 136.379 236 136.59 234.195 136.59C232.156 136.59 230.598 136.262 229.531 135.605L240.617 131.188C240.734 132.465 240.617 133.449 240.266 134.117Z"
                fill="white"
              />
              <path d="M0 93H24L0 117V93Z" fill="#03090C" />
              <rect
                x="12.4411"
                y="2.5"
                width="43"
                height="43"
                stroke="#C9C9C9"
                strokeWidth="5"
              />
              <rect
                x="33.9411"
                y="64"
                width="16"
                height="16"
                transform="rotate(45 33.9411 64)"
                fill="#C9C9C9"
              />
              <rect
                x="56.5685"
                y="86.6274"
                width="16"
                height="16"
                transform="rotate(45 56.5685 86.6274)"
                fill="#C9C9C9"
              />
              <rect
                x="11.3137"
                y="86.6274"
                width="16"
                height="16"
                transform="rotate(45 11.3137 86.6274)"
                fill="#C9C9C9"
              />
              <rect
                x="33.9411"
                y="109.255"
                width="16"
                height="16"
                transform="rotate(45 33.9411 109.255)"
                fill="#C9C9C9"
              />
            </svg>
          </div>
        </Col>
        <Col className="form-col" data-aos="fade-left" data-aos-once="true">
          <div className="form-heading">
            <h1 className="heading">have an iDea?</h1>
            <p className="subheading">Tell us about it</p>
          </div>
          <form className="form" onSubmit={SendData}>
            <label className="input-field">
              {" "}
              Email
              <input type="email" name="email" onChange={Input} />
            </label>
            <label className="input-field">
              {" "}
              Message
              <textarea name="message" onChange={Input} />
            </label>
            <div className="contactUs-button">
              <label>
                <input type="submit" value="Submit" />
                <svg className="Sendbutton-neha" viewBox="0 0 210 77">
                  {/* <a href="#"> */}
                  <rect width={210} height={77} fill="#C9C9C9" />

                  <path d="M0 0H24L0 24V0Z" fill="#03090C" />
                  <path d="M210 77L186 77L210 53L210 77Z" fill="#03090C" />
                  <text
                    x="105"
                    y="39"
                    fill="#000000"
                    fontSize="1.5em"
                    textAnchor="middle"
                    fontWeight="normal"
                    alignmentBaseline="middle"
                  >
                    Send
                  </text>
                  {/* </a> */}
                </svg>
              </label>
            </div>
          </form>
        </Col>
      </Row>
    </div>
  );
}

export default GetInTouch;

// <label>
//                             <input type="submit" value="Submit" />
//                             <div className="contactUs-button">
//                             <svg className="Sendbutton-neha" width="210" height="77" viewBox="0 0 210 77" >
//                             {/* <a href="#"> */}
//                                 <rect width={210} height={77} fill="#C9C9C9" />

//                                 <path d="M0 0H24L0 24V0Z" fill="#03090C" />
//                                 <path d="M210 77L186 77L210 53L210 77Z" fill="#03090C" />
//                                 <text x="105"
//                                     y="39"
//                                     fill="#000000"
//                                     fontSize="1.5em"
//                                     text-anchor="middle"
//                                     fontWeight="normal"
//                                     alignmentBaseline="middle">
//                                 Send
//                                 </text>
//                             {/* </a> */}

//                                 </svg>
//                             </div>
//               </label>
